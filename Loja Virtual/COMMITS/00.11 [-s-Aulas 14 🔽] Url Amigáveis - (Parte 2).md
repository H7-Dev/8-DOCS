**00.11 [-s-Aulas 14 üîΩ] Url Amig√°veis - (Parte 2)**

# **Configura√ß√£o do Apache para URL Amig√°veis**

O c√≥digo fornecido mostra uma configura√ß√£o para o m√≥dulo `mod_rewrite` do Apache, que √© comumente utilizado para implementar URLs amig√°veis em aplicativos web. A seguir, uma documenta√ß√£o detalhada desse c√≥digo:

### Diretivas do m√≥dulo mod_rewrite

```apache
<IfModule mod_rewrite.c> 
    RewriteEngine on 
    RewriteCond %{REQUEST_FILENAME} !-f 
    RewriteCond %{REQUEST_FILENAME} !-d 

    RewriteRule ^(.*)$ index.php?pag=$1 [L,QSA] 
</IfModule>
```

Essas diretivas s√£o usadas para redirecionar todas as requisi√ß√µes para o arquivo `index.php` e passar o valor ap√≥s a primeira barra como um par√¢metro chamado `pag`. Vamos analisar as linhas do c√≥digo:

- `<IfModule mod_rewrite.c>`: Essa diretiva verifica se o m√≥dulo `mod_rewrite` est√° carregado no servidor Apache. O conte√∫do dentro dessa tag s√≥ ser√° processado se o m√≥dulo estiver dispon√≠vel.

- `RewriteEngine on`: Ativa o mecanismo de reescrita do Apache.

- `RewriteCond %{REQUEST_FILENAME} !-f`: Essa condi√ß√£o verifica se o arquivo solicitado n√£o existe como um arquivo regular.

- `RewriteCond %{REQUEST_FILENAME} !-d`: Essa condi√ß√£o verifica se o arquivo solicitado n√£o existe como um diret√≥rio.

- `RewriteRule ^(.*)$ index.php?pag=$1 [L,QSA]`: Essa regra de reescrita redireciona todas as requisi√ß√µes para o arquivo `index.php`, passando o valor ap√≥s a primeira barra como um par√¢metro chamado `pag`. A flag `[L,QSA]` indica que √© a √∫ltima regra a ser aplicada e que deve preservar os demais par√¢metros da URL.

- `</IfModule>`: Marca o final da se√ß√£o condicional `<IfModule>`.

### Restri√ß√£o de Acesso aos Arquivos .tpl

```apache
<Files *.tpl> 
    Order deny,allow 
    Deny from All 
</Files>
```

Essa configura√ß√£o restringe o acesso a todos os arquivos com a extens√£o `.tpl`. Vamos entender as linhas do c√≥digo:

- `<Files *.tpl>`: Essa diretiva se aplica a arquivos com a extens√£o `.tpl`.

- `Order deny,allow`: Define a ordem das diretivas, primeiro negando o acesso e, em seguida, permitindo.

- `Deny from All`: Nega o acesso a todos os arquivos com a extens√£o `.tpl`.

### Uso

Essas configura√ß√µes s√£o geralmente aplicadas em um arquivo de configura√ß√£o do Apache, como o `.htaccess`, para permitir o uso de URLs amig√°veis em um aplicativo web. Ao utilizar essas configura√ß√µes, todas as requisi√ß√µes ser√£o redirecionadas para o arquivo `index.php`, que ser√° respons√°vel pelo processamento e roteamento adequado das p√°ginas.

Certifique-se de que o m√≥dulo `mod_rewrite` esteja habilitado no servidor Apache e que a configura√ß√£o seja corretamente aplicada ao seu projeto. Al√©m disso, verifique se os arquivos `.tpl` est√£o sendo corretamente protegidos contra acesso direto.

Resultado
=========

![00 11  -s-Aulas 14 üîΩ  Url Amig√°veis - (Parte 2)](https://github.com/H7-Dev/README.X/assets/93455937/334de017-2279-4019-be04-437185b1e8d5)

