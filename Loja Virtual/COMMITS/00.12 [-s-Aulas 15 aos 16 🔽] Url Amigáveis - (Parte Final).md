**00.12 [-s-Aulas 15 aos 16 üîΩ] Url Amig√°veis - (Parte Final)**

# **Documenta√ß√£o da Classe Rotas**

A classe `Rotas` √© respons√°vel por lidar com as rotas e redirecionamento de p√°ginas em um aplicativo web. A seguir, uma documenta√ß√£o detalhada dessa classe:

### Propriedades

- `$pag`: Uma propriedade est√°tica que armazena as partes da rota extra√≠das da URL.

### M√©todos

- `get_Pagina()`: Um m√©todo est√°tico respons√°vel por obter a p√°gina solicitada na URL e incluir o respectivo arquivo de controle. 

  - **Par√¢metros:** N√£o possui par√¢metros.
  
  - **Funcionalidade:** Este m√©todo verifica se um par√¢metro `pag` est√° presente na URL atrav√©s da vari√°vel superglobal `$_GET`. Em seguida, extrai essa rota e a armazena na propriedade est√°tica `$pag` como um array, dividindo a rota por barras (/).
  
    Ap√≥s a extra√ß√£o, √© constru√≠do o caminho para o arquivo de controle a ser inclu√≠do, adicionando o prefixo `'CONTROLLER/'` ao primeiro elemento da rota armazenada em `self::$pag`. Caso o arquivo exista, ele √© inclu√≠do. Caso contr√°rio, √© inclu√≠do um arquivo de erro.
  
  - **Retorno:** N√£o possui retorno.
  
  - **Exemplo de uso:**
  
    ```php
    Rotas::get_Pagina();
    ```

### Exemplo de Uso

O exemplo a seguir demonstra como utilizar a classe `Rotas` em um aplicativo web:

```php
<?php
require 'Rotas.php';

// Chamada do m√©todo para obten√ß√£o da p√°gina
Rotas::get_Pagina();
?>
```

Nesse exemplo, a classe `Rotas` √© inclu√≠da e o m√©todo `get_Pagina()` √© chamado para processar a rota e incluir o arquivo de controle correspondente.

√â importante lembrar que a classe `Rotas` √© apenas um exemplo e deve ser adaptada √†s necessidades do seu aplicativo. Al√©m disso, √© fundamental garantir a seguran√ßa e validar as rotas antes de incluir os arquivos de controle, a fim de evitar poss√≠veis vulnerabilidades de seguran√ßa.

Aqui est√° a documenta√ß√£o atualizada com o c√≥digo completo e comentado linha por linha:

```php
<?php

/**
 * Classe Rotas
 *
 * Essa classe √© respons√°vel por lidar com as rotas e redirecionamento de p√°ginas em um aplicativo web.
 */
class Rotas
{
    /**
     * @var array Armazena as partes da rota extra√≠das da URL.
     */
    public static $pag;

    /**
     * Obt√©m a p√°gina solicitada e inclui o arquivo de controle correspondente.
     *
     * Esse m√©todo verifica se um par√¢metro 'pag' est√° presente na URL e, em seguida, inclui o arquivo de controle
     * correspondente √† rota fornecida.
     */
    public static function get_Pagina()
    {
        if (isset($_GET['pag'])) {
            $pagina = $_GET['pag'];
            self::$pag = explode('/', $pagina);

            // Constr√≥i o caminho para o arquivo de controle
            $pagina = 'CONTROLLER/' . self::$pag[0] . '.php';

            if (file_exists($pagina)) {
                // Inclui o arquivo de controle correspondente
                include $pagina;
            } else {
                // Inclui um arquivo de erro caso o arquivo de controle n√£o exista
                include 'erro.php';
            }
        }
    }
}

?>
```

Essa documenta√ß√£o descreve a classe `Rotas`, que √© respons√°vel por lidar com as rotas e redirecionamento de p√°ginas em um aplicativo web. A classe possui uma propriedade est√°tica `$pag`, que armazena as partes da rota extra√≠das da URL, e um m√©todo est√°tico `get_Pagina()` que obt√©m a p√°gina solicitada e inclui o arquivo de controle correspondente.

A classe √© comentada linha por linha para fornecer uma explica√ß√£o clara de cada parte do c√≥digo. √â importante observar que esse c√≥digo √© apenas um exemplo e pode ser adaptado √†s necessidades do seu aplicativo. Al√©m disso, √© fundamental garantir a seguran√ßa e validar as rotas antes de incluir os arquivos de controle, a fim de evitar poss√≠veis vulnerabilidades de seguran√ßa.

Detalhamentos
========

### **$pagina = $_GET['pag'];,**

- No trecho de c√≥digo `$pagina = $_GET['pag'];`, estamos obtendo o valor do par√¢metro `pag` presente na URL, por meio da superglobal `$_GET`. 

- A superglobal `$_GET` √© um array associativo que cont√©m os par√¢metros e seus valores passados na URL atrav√©s do m√©todo GET. Ao acessar `$_GET['pag']`, estamos recuperando o valor do par√¢metro `pag` da URL.

- Por exemplo, se a URL for algo como `http://www.example.com/index.php?pag=produto/123`, o trecho de c√≥digo `$pagina = $_GET['pag'];` ir√° armazenar a string `'produto/123'` na vari√°vel `$pagina`.

- Essa abordagem permite que voc√™ capture o valor fornecido para o par√¢metro `pag` na URL e utilize-o para determinar qual p√°gina ou recurso deve ser exibido ou processado. No exemplo anterior, a rota `'produto/123'` poderia ser interpretada para exibir os detalhes do produto com o ID 123, por exemplo.

- √â importante lembrar que ao utilizar valores fornecidos pelo usu√°rio na URL, √© necess√°rio tomar precau√ß√µes para garantir a seguran√ßa e evitar vulnerabilidades, como valida√ß√£o adequada, filtragem de caracteres indesejados e prote√ß√£o contra ataques como inje√ß√£o de SQL ou XSS (Cross-Site Scripting).

- Portanto, ao usar `$pagina = $_GET['pag'];` ou qualquer valor obtido a partir da superglobal `$_GET`, √© fundamental implementar medidas de seguran√ßa apropriadas antes de processar esses valores em seu c√≥digo.

### **explode()**
No trecho de c√≥digo `$pagina = $_GET['pag'];`, estamos obtendo o valor do par√¢metro `pag` presente na URL, por meio da superglobal `$_GET`. 

A superglobal `$_GET` √© um array associativo que cont√©m os par√¢metros e seus valores passados na URL atrav√©s do m√©todo GET. Ao acessar `$_GET['pag']`, estamos recuperando o valor do par√¢metro `pag` da URL.

Por exemplo, se a URL for algo como `http://www.example.com/index.php?pag=produto/123`, o trecho de c√≥digo `$pagina = $_GET['pag'];` ir√° armazenar a string `'produto/123'` na vari√°vel `$pagina`.

Essa abordagem permite que voc√™ capture o valor fornecido para o par√¢metro `pag` na URL e utilize-o para determinar qual p√°gina ou recurso deve ser exibido ou processado. No exemplo anterior, a rota `'produto/123'` poderia ser interpretada para exibir os detalhes do produto com o ID 123, por exemplo.

√â importante lembrar que ao utilizar valores fornecidos pelo usu√°rio na URL, √© necess√°rio tomar precau√ß√µes para garantir a seguran√ßa e evitar vulnerabilidades, como valida√ß√£o adequada, filtragem de caracteres indesejados e prote√ß√£o contra ataques como inje√ß√£o de SQL ou XSS (Cross-Site Scripting).

Portanto, ao usar `$pagina = $_GET['pag'];` ou qualquer valor obtido a partir da superglobal `$_GET`, √© fundamental implementar medidas de seguran√ßa apropriadas antes de processar esses valores em seu c√≥digo.


### **explode()**

- No trecho de c√≥digo `self::$pag = explode('/', $pagina);`, estamos utilizando a fun√ß√£o `explode()` para dividir a string `$pagina` em partes, com base em um delimitador especificado, que nesse caso √© a barra (`/`).

- A fun√ß√£o `explode()` retorna um array contendo as partes da string original divididas pelo delimitador. No caso espec√≠fico desse c√≥digo, a vari√°vel `$pagina` cont√©m a rota obtida a partir do par√¢metro `pag` na URL.

- Ao usar `explode('/', $pagina)`, estamos dividindo a string `$pagina` em partes separadas por barras. Por exemplo, se `$pagina` for `'produto/123'`, o `explode()` criar√° um array com dois elementos: `'produto'` e `'123'`.

- Em seguida, estamos atribuindo esse array √† propriedade est√°tica `self::$pag`. Isso nos permite acessar e utilizar essas partes da rota em outras partes do c√≥digo, se necess√°rio.

- Essa divis√£o da rota em partes pode ser √∫til para, por exemplo, identificar o controlador a ser utilizado ou os par√¢metros adicionais fornecidos na URL. Cada elemento do array pode ser acessado individualmente utilizando a sintaxe `$array[indice]`, onde `indice` √© a posi√ß√£o do elemento no array.

- No exemplo anterior, podemos acessar o primeiro elemento do array com `self::$pag[0]`, que seria `'produto'`, e o segundo elemento com `self::$pag[1]`, que seria `'123'`.

- Essa abordagem permite que voc√™ trabalhe com rotas mais flex√≠veis e din√¢micas, manipulando as partes da rota conforme necess√°rio para direcionar corretamente as requisi√ß√µes em seu aplicativo.

- Lembre-se de que, para garantir a seguran√ßa, √© importante validar e filtrar os valores fornecidos na rota antes de utiliz√°-los em qualquer opera√ß√£o.

Resultado
=======


![image](https://github.com/H7-Dev/README.X/assets/93455937/9926be06-adc0-4bda-abbb-cc53b45e6c31)


**Observa√ß√µes:**
- Para melhor entendimento dos commits relacionado a Url amig√°vel, rever os v√≠deos das aulas 14 a 16.